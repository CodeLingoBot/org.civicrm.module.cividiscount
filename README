A prototype for CMS independent extensions. Porting civievent_discount to this framework

* Change for 4.2 priceset structure.

* Create some user documentation

* Enhance UI to show which discount code has been applied.

* Enhance UI with an "apply discount" button that updates displayed prices (ajax if possible).

* Carefully review discount verification and applicability:
  + fix _get_discounted_event_ids(), _get_discounted_priceset_ids(), _get_discounted_membership_ids() to return events/pricesets/memberships only for active code

* Fix cividiscount_civicrm_buildForm():
  + fix manual membership registration form (no discount code field) because it falls through:
    if ( ( isset( $form->_single ) &&
      $form->_single == 1 ) ||
      $form->_context == 'membership' ) {…}

* Fix cividiscount_civicrm_postProcess():
  + fix _pid is empty when offline registering event for contact
  + check we have correct membershipID and contributionID when it's needed for the tracking entity_id
  + remove dead $track = array(…) code

* Fix cividiscount_civicrm_pre():
  + FIXME: When a contact is deleted, we should also delete their tracking info/usage.
  + FIXME: When removing participant (and additional) from events, also delete their tracking info/usage.

* Fix membership discounts (not sure what the exact problem is here).


